{"version":3,"file":"app.min.js","mappings":"mBAoGO,SAASA,IACf,IAAIC,EAAQ,IAAIC,MAAMC,IAAI,MAAO,CAChCC,OAAQ,CAAC,kBAAmB,mBAC5BC,KAAM,IAEHC,EAAY,IAAIJ,MAAMK,UAAU,CAAC,iBAAkB,oBAAqB,CAAC,EAAG,CAC/EC,WAAY,gBACZC,cAAe,yBACfC,cAAe,CAAC,GAAI,IACpBC,gBAAiB,EAAE,IAAK,MAErBC,EAAa,IAAIV,MAAMK,UAAU,CAAC,mBAAoB,oBAAqB,CAAC,EAAG,CAClFC,WAAY,gBACZC,cAAe,yBACfC,cAAe,CAAC,GAAI,IACpBC,gBAAiB,EAAE,IAAK,MAErBE,EAAa,IAAIX,MAAMK,UAAU,CAAC,mBAAoB,oBAAqB,CAAC,EAAG,CAClFC,WAAY,gBACZC,cAAe,yBACfC,cAAe,CAAC,GAAI,IACpBC,gBAAiB,EAAE,IAAK,MAErBG,EAAa,IAAIZ,MAAMK,UAAU,CAAC,kBAAmB,mBAAoB,CAAC,EAAG,CAChFC,WAAY,gBACZC,cAAe,yBACfC,cAAe,CAAC,GAAI,IACpBC,gBAAiB,CAAC,GAAI,MAEnBI,EAAa,IAAIb,MAAMK,UAAU,CAAC,mBAAoB,oBAAqB,CAAC,EAAG,CAClFC,WAAY,gBACZC,cAAe,yBACfC,cAAe,CAAC,GAAI,IACpBC,gBAAiB,EAAE,IAAK,MAEzBV,EAAMe,SAASC,OAAO,kBACtBhB,EAAMe,SAASC,OAAO,sBACtBhB,EAAMe,SAASC,OAAO,gBACtBhB,EAAMe,SAASC,OAAO,eACtBhB,EAAMe,SAASC,OAAO,gBACtBhB,EAAMe,SAASC,OAAO,iBAClBhB,IACHA,EAAMiB,WAAWC,IAAIb,GACrBL,EAAMiB,WAAWC,IAAIP,GACrBX,EAAMiB,WAAWC,IAAIN,GACrBZ,EAAMiB,WAAWC,IAAIL,GACrBb,EAAMiB,WAAWC,IAAIJ,GAEvB,CClJO,SAASK,IACf,MAAMC,EAAWC,SAASC,iBAAiB,oBAuD3C,IAIIC,EAAW,IAAIC,sBAAqB,CAACC,EAASF,KACjDE,EAAQC,SAAQC,IACf,GAAIA,EAAMC,eAAgB,CACzB,MACMC,EADgBF,EAAMG,OACQR,iBAAiB,kBACjDO,GA9DP,SAAqBE,GACpB,MAAMF,EAAgBE,GAA8BV,SAASC,iBAAiB,kBAC1EO,GACHA,EAAcH,SAAQM,KAOxB,SAA6BA,GAC5B,IAAIC,EAAiB,KAErB,MAAMC,EAAWC,SAASH,EAAaI,QAAQC,SAAWF,SAASH,EAAaI,QAAQC,SAAW,IAE7FC,EAAaN,EAAaI,QAAQG,MAClCC,EAAc,CAAC,EACfC,EAAc,CAAC,EAcrB,GAbIH,EAAWI,SAAS,MACvBD,EAAYE,KAAOL,EAAWM,MAAM,KAAK,GACzCH,EAAYI,MAAQP,EAAWM,MAAM,KAAK,GAC1CH,EAAYK,OAASR,EAAWM,MAAM,KAAK,IAEjCN,EAAWI,SAAS,MAC9BF,EAAYG,KAAOL,EAAWM,MAAM,KAAK,GACzCJ,EAAYK,MAAQP,EAAWM,MAAM,KAAK,GAC1CJ,EAAYM,OAASR,EAAWM,MAAM,KAAK,IAG3CJ,EAAY,GAAKL,SAASH,EAAae,WAEA,IAApCC,OAAOC,KAAKT,GAAaU,QAAgBV,EAAYW,cAAgBH,QAA8C,IAApCA,OAAOC,KAAKR,GAAaS,QAAgBT,EAAYU,cAAgBH,OAAQ,CAC/J,MAAMI,EAAQC,IAERpB,IAAgBA,EAAiBoB,GAEtC,MAAMC,EAAWC,KAAKC,KAAKH,EAAOpB,GAAkBC,EAAU,GAC1DF,EAAaI,QAAQG,MAAMG,SAAS,OACvCV,EAAae,UAAY,GAAGQ,KAAKE,MAAMH,EAAWd,EAAYG,SAASY,KAAKE,MAAMH,EAAWd,EAAYK,SAASL,GAAeA,EAAYM,QAAU,MAEpJd,EAAaI,QAAQG,MAAMG,SAAS,OACvCV,EAAae,UAAY,GAAGQ,KAAKE,MAAMH,EAAWb,EAAYE,SAASY,KAAKE,MAAMH,EAAWb,EAAYI,UAAUU,KAAKE,MAAMH,EAAWb,EAAYK,WAElJQ,EAAW,GACdI,OAAOC,sBAAsBP,EAC9B,EAGDM,OAAOC,sBAAsBP,EAC9B,CACD,CA9CGQ,CAAoB5B,EAAY,GAGnC,CAwDI6B,CAAYhC,GAEbN,EAASuC,UAAUnC,EAAMG,OAC1B,IACA,GAdY,CACbiC,UAAW,KAgBR3C,EAAS8B,OAAS,GAErB9B,EAASM,SAASsC,GAAWzC,EAAS0C,QAAQD,IAEhD,CC1EA3C,SAAS6C,iBAAiB,oBAAqBC,KFM9C,SAAkBC,GACjB,IAAIC,EAAO,IAAIC,MACfD,EAAKE,OAASF,EAAKG,QAAU,YAMrB,SAAUC,GAClB,IAAIC,GAAwB,IAAZD,EAAmB,OAAS,UAC5CpD,SAASsD,gBAAgBC,UAAU1D,IAAIwD,EACxC,CAREN,CAAwB,GAAfC,EAAKQ,OACf,EACAR,EAAKS,IAAM,iHACZ,CAEAC,GAMM,WACN,IAAIC,EAAe3D,SAAS4D,cAAc,mBACtCC,EAAa7D,SAAS4D,cAAc,iBACpCD,GACHA,EAAad,iBAAiB,SAAS,KACtCc,EAAaJ,UAAUO,OAAO,UAC9BD,EAAWN,UAAUO,OAAO,UAC5B9D,SAAS+D,KAAKR,UAAUO,OAAO,OAAO,GAGzC,CE5BC,GF8BM,WACN,IAAIE,EAAehE,SAASC,iBAAiB,QACzC+D,EAAanC,OAAS,GACzBmC,EAAa3D,SAAQ4D,GAASA,EAAMC,MAAMC,gBAAkB,OAASF,EAAML,cAAc,OAAOQ,aAAa,OAAS,KAExH,CElCC,GFoCApE,SAAS6C,iBAAiB,SAAUC,IACnC,MAAMrC,EAASqC,EAAErC,OACjB,GAAIA,EAAO4D,QAAQ,iBAAkB,CACpC,MAAMC,EAAS7D,EAAO4D,QAAQ,iBACxBE,EAASvE,SAASwE,cAAc,QAChCC,EAAUvC,KAAKwC,IAAIJ,EAAOK,YAAaL,EAAOM,cAC9CC,EAASJ,EAAU,EAEzBF,EAAOL,MAAMY,MAAQP,EAAOL,MAAMV,OAASiB,EAAU,KACrDF,EAAOL,MAAMa,KAAUjC,EAAEkC,OAASV,EAAOW,wBAAwBF,KAAOG,SAAWL,EAA/D,KACpBN,EAAOL,MAAMiB,IAASrC,EAAEsC,OAASd,EAAOW,wBAAwBE,IAAME,SAAWR,EAA9D,KACnBN,EAAOhB,UAAU1D,IAAI,eAGK,SAA1ByE,EAAOvD,QAAQwD,QAAqBD,EAAOV,cAAc,iBAAkBU,EAAOV,cAAc,gBAAgBjE,SAEhH2E,EAAOgB,OAAOf,GAEd,MAAMgB,EAAUC,EAAqBjB,GAMrC,SAASiB,EAAqBjB,GAC7B,MAAM1D,EAAWwB,OAAOoD,iBAAiBlB,GAAQmB,kBACjD,OAAO7E,EAASQ,SAAS,MAAQR,EAAS8E,QAAQ,KAAM,IAAkC,IAA5B9E,EAAS8E,QAAQ,IAAK,GACrF,CAPAC,YAAW,KACVrB,GAASA,EAAO5E,QAAW,GACzB4F,EAMJ,KAIK,WACN,MAAMM,EAAM7F,SAAS4D,cAAc,sBAC7BkC,EAAe9F,SAASC,iBAAiB,qBAC/C4F,EAAIhD,iBAAiB,SAAUC,IAC9B,GAAyB,OAApBA,EAAErC,OAAOsF,QAAiB,OAAO,EACtCF,EAAI5F,iBAAiB,MAAMI,SAAQ2F,IAAQA,EAAGzC,UAAU5D,OAAO,SAAS,IACxEmG,EAAazF,SAAQ4F,IACpBA,EAAM1C,UAAU5D,OAAO,QACvBiG,YAAW,KACVK,EAAM/B,MAAMgC,QAAU,MAAM,GAC1B,KACH,MAAMC,EAAerD,EAAErC,OAAOM,QAAQqF,EACjCH,EAAM1C,UAAU8C,SAASF,IAAkC,QAAjBA,IAC9CF,EAAM1C,UAAU1D,IAAI,QACpB+F,YAAW,KACVK,EAAM/B,MAAMgC,QAAU,MAAM,GAC1B,MAEJpD,EAAErC,OAAO8C,UAAU1D,IAAI,SAAS,GAChC,GAGH,CExFC,GACAjB,MAAM0H,MAAM,EAAc,IAG3BjE,OAAOQ,iBAAiB,QAAQ,KAC/B/C,GAAW,G","sources":["webpack://gulp/./src/js/modules/functions.js","webpack://gulp/./src/js/modules/counertanim.js","webpack://gulp/./src/js/app.js"],"sourcesContent":["export const isMobile = {\r\n\tAndroid: function () { return navigator.userAgent.match(/Android/i); },\r\n\tBlackBerry: function () { return navigator.userAgent.match(/BlackBerry/i); },\r\n\tiOS: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i); },\r\n\tOpera: function () { return navigator.userAgent.match(/Opera Mini/i); },\r\n\tWindows: function () { return navigator.userAgent.match(/IEMobile/i); },\r\n\tany: function () { return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()); }\r\n};\r\n\r\nexport function isWebp() {\r\n\t// Проверка поддержки webp\r\n\tfunction testWebP(callback) {\r\n\t\tlet webP = new Image();\r\n\t\twebP.onload = webP.onerror = function () {\r\n\t\t\tcallback(webP.height == 2);\r\n\t\t};\r\n\t\twebP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n\t}\r\n\t// Добавление класса _webp или _no-webp для HTML\r\n\ttestWebP(function (support) {\r\n\t\tlet className = support === true ? 'webp' : 'no-webp';\r\n\t\tdocument.documentElement.classList.add(className);\r\n\t});\r\n}\r\n\r\nexport function burger() {\r\n\tlet burgerButton = document.querySelector('.header__burger');\r\n\tlet burgerMenu = document.querySelector('.header__menu');\r\n\tif (burgerButton) {\r\n\t\tburgerButton.addEventListener('click', () => {\r\n\t\t\tburgerButton.classList.toggle('active')\r\n\t\t\tburgerMenu.classList.toggle('active');\r\n\t\t\tdocument.body.classList.toggle('lock');\r\n\t\t})\r\n\t}\r\n};\r\n\r\nexport function ibg() {\r\n\tlet imgbackround = document.querySelectorAll(\".ibg\");\r\n\tif (imgbackround.length > 0) {\r\n\t\timgbackround.forEach(imgbg => imgbg.style.backgroundImage = 'url(' + imgbg.querySelector('img').getAttribute('src') + ')');\r\n\t}\r\n};\r\nexport function ripple() {\r\n\tdocument.addEventListener('click', (e) => {\r\n\t\tconst target = e.target\r\n\t\tif (target.closest('[data-ripple]')) {\r\n\t\t\tconst button = target.closest('[data-ripple]');\r\n\t\t\tconst ripple = document.createElement('span');\r\n\t\t\tconst diametr = Math.max(button.clientWidth, button.clientHeight);\r\n\t\t\tconst radius = diametr / 2;\r\n\r\n\t\t\tripple.style.width = ripple.style.height = diametr + 'px';\r\n\t\t\tripple.style.left = `${e.pageX - (button.getBoundingClientRect().left + scrollX) - radius}px`;\r\n\t\t\tripple.style.top = `${e.pageY - (button.getBoundingClientRect().top + scrollY) - radius}px`;\r\n\t\t\tripple.classList.add('btn__ripple');\r\n\r\n\t\t\t//проверка на наличие значяение аттрибута data. Просто не плодит span, а так разницы нет\r\n\t\t\tbutton.dataset.ripple === 'once' && button.querySelector('.btn__ripple') ? button.querySelector('.btn__ripple').remove() : null;\r\n\r\n\t\t\tbutton.append(ripple);\r\n\r\n\t\t\tconst timeOut = getAnimationDuration(ripple);\r\n\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tripple ? ripple.remove() : null\r\n\t\t\t}, timeOut)\r\n\r\n\t\t\tfunction getAnimationDuration(ripple) {\r\n\t\t\t\tconst duration = window.getComputedStyle(ripple).animationDuration\r\n\t\t\t\treturn duration.includes('ms') ? duration.replace('ms', '') : duration.replace('s', '') * 1000;\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n};\r\n\r\nexport function filter() {\r\n\tconst nav = document.querySelector('.upper-block__list');\r\n\tconst blocksFilter = document.querySelectorAll('.down-block__card');\r\n\tnav.addEventListener('click', (e) => {\r\n\t\tif (!e.target.tagName == \"LI\") return false;\r\n\t\tnav.querySelectorAll('li').forEach(li => { li.classList.remove('active'); })\r\n\t\tblocksFilter.forEach(block => {\r\n\t\t\tblock.classList.remove('hide');\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tblock.style.display = 'grid';\r\n\t\t\t}, 300);\r\n\t\t\tconst filterTarget = e.target.dataset.f;\r\n\t\t\tif (!block.classList.contains(filterTarget) && filterTarget !== 'all') {\r\n\t\t\t\tblock.classList.add('hide');\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tblock.style.display = 'none';\r\n\t\t\t\t}, 300);\r\n\t\t\t}\r\n\t\t\te.target.classList.add('active');\r\n\t\t})\r\n\r\n\t})\r\n}\r\n\r\nexport function map() {\r\n\tlet myMap = new ymaps.Map(\"map\", {\r\n\t\tcenter: [51.61826714408352, 9.315691535777491],\r\n\t\tzoom: 3,\r\n\t});\r\n\tlet placeMark = new ymaps.Placemark([51.0937974395966, 10.013996457245618], {}, {\r\n\t\ticonLayout: 'default#image',\r\n\t\ticonImageHref: \"~/../img/icons/map.svg\",\r\n\t\ticonImageSize: [30, 40],\r\n\t\ticonImageOffset: [-15, -30]\r\n\t})\r\n\tlet placeMark1 = new ymaps.Placemark([63.112602880950064, 15.638996496177715], {}, {\r\n\t\ticonLayout: 'default#image',\r\n\t\ticonImageHref: \"~/../img/icons/map.svg\",\r\n\t\ticonImageSize: [30, 40],\r\n\t\ticonImageOffset: [-15, -30]\r\n\t})\r\n\tlet placeMark2 = new ymaps.Placemark([59.952757468116125, 10.673176149307977], {}, {\r\n\t\ticonLayout: 'default#image',\r\n\t\ticonImageHref: \"~/../img/icons/map.svg\",\r\n\t\ticonImageSize: [30, 40],\r\n\t\ticonImageOffset: [-25, -30]\r\n\t})\r\n\tlet placeMark3 = new ymaps.Placemark([41.99698185251685, 12.51887928708257], {}, {\r\n\t\ticonLayout: 'default#image',\r\n\t\ticonImageHref: \"~/../img/icons/map.svg\",\r\n\t\ticonImageSize: [30, 40],\r\n\t\ticonImageOffset: [0, -30]\r\n\t})\r\n\tlet placeMark4 = new ymaps.Placemark([40.44352342041553, -3.9166677016721483], {}, {\r\n\t\ticonLayout: 'default#image',\r\n\t\ticonImageHref: \"~/../img/icons/map.svg\",\r\n\t\ticonImageSize: [30, 40],\r\n\t\ticonImageOffset: [-15, -30]\r\n\t})\r\n\tmyMap.controls.remove('trafficControl');\r\n\tmyMap.controls.remove('geolocationControl');\r\n\tmyMap.controls.remove('rulerControl');\r\n\tmyMap.controls.remove('zoomControl');\r\n\tmyMap.controls.remove('typeSelector');\r\n\tmyMap.controls.remove('searchControl');\r\n\tif (myMap) {\r\n\t\tmyMap.geoObjects.add(placeMark);\r\n\t\tmyMap.geoObjects.add(placeMark1);\r\n\t\tmyMap.geoObjects.add(placeMark2);\r\n\t\tmyMap.geoObjects.add(placeMark3);\r\n\t\tmyMap.geoObjects.add(placeMark4);\r\n\t}\r\n}","\"use strict\"\r\n\r\nexport function startInit() {\r\n\tconst sections = document.querySelectorAll('.section-counter')\r\n\t// проверка на наличие data аттрибута и запуск для каждого блока\r\n\tfunction counterInit(counterItems) {\r\n\t\tconst digitCounters = counterItems ? counterItems : document.querySelectorAll('[data-counter]');\r\n\t\tif (digitCounters) {\r\n\t\t\tdigitCounters.forEach(digitCounter => {\r\n\t\t\t\tdigitCounterAnimate(digitCounter)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t// анимация\r\n\tfunction digitCounterAnimate(digitCounter) {\r\n\t\tlet startTimeStamp = null;\r\n\t\t// можно задать или по умолчанию\r\n\t\tconst duration = parseInt(digitCounter.dataset.counter) ? parseInt(digitCounter.dataset.counter) : 1000;\r\n\t\t// начальные заданные данные\r\n\t\tconst checkValue = digitCounter.dataset.value;\r\n\t\tconst objValueDot = {};\r\n\t\tconst objValueCom = {};\r\n\t\tif (checkValue.includes(',')) {\r\n\t\t\tobjValueCom.zero = checkValue.split(',')[0];\r\n\t\t\tobjValueCom.first = checkValue.split(',')[1];\r\n\t\t\tobjValueCom.second = checkValue.split(',')[2];\r\n\r\n\t\t} else if (checkValue.includes('.')) {\r\n\t\t\tobjValueDot.zero = checkValue.split('.')[0];\r\n\t\t\tobjValueDot.first = checkValue.split('.')[1];\r\n\t\t\tobjValueDot.second = checkValue.split('.')[2];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tobjValueDot[0] = parseInt(digitCounter.innerHTML);\r\n\t\t}\r\n\t\tif (Object.keys(objValueDot).length !== 0 && objValueDot.constructor === Object || Object.keys(objValueCom).length !== 0 && objValueCom.constructor === Object) {\r\n\t\t\tconst step = (time) => {\r\n\t\t\t\t// присваиваем время начал\r\n\t\t\t\tif (!startTimeStamp) startTimeStamp = time;\r\n\t\t\t\t// прогресс прошедшее время-время начала/1000, округлить к меньшему \r\n\t\t\t\tconst progress = Math.min((time - startTimeStamp) / duration, 1);\r\n\t\t\t\tif (digitCounter.dataset.value.includes('.')) {\r\n\t\t\t\t\tdigitCounter.innerHTML = `${Math.floor(progress * objValueDot.zero)}.${Math.floor(progress * objValueDot.first)}${objValueDot && objValueDot.second || ''}`;\r\n\t\t\t\t}\r\n\t\t\t\tif (digitCounter.dataset.value.includes(',')) {\r\n\t\t\t\t\tdigitCounter.innerHTML = `${Math.floor(progress * objValueCom.zero)},${Math.floor(progress * objValueCom.first)},${Math.floor(progress * objValueCom.second)}`;\r\n\t\t\t\t}\r\n\t\t\t\tif (progress < 1) {\r\n\t\t\t\t\twindow.requestAnimationFrame(step)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// запускает саму функцию\r\n\t\t\twindow.requestAnimationFrame(step);\r\n\t\t}\r\n\t}\r\n\r\n\t//порог пересечения\r\n\tlet options = {\r\n\t\tthreshold: 0.3,\r\n\t}\r\n\r\n\tlet observer = new IntersectionObserver((entries, observer) => {\r\n\t\tentries.forEach(entry => {\r\n\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\tconst targetElement = entry.target;\r\n\t\t\t\tconst digitCounters = targetElement.querySelectorAll('[data-counter]');\r\n\t\t\t\tif (digitCounters) {\r\n\t\t\t\t\tcounterInit(digitCounters);\r\n\t\t\t\t}\r\n\t\t\t\tobserver.unobserve(entry.target)\r\n\t\t\t}\r\n\t\t})\r\n\t}, options);\r\n\r\n\tif (sections.length > 0) {\r\n\r\n\t\tsections.forEach((section => observer.observe(section)));\r\n\t}\r\n} ","'use strict'\r\n\r\nimport * as functions from \"./modules/functions.js\";\r\nimport { startInit } from \"./modules/counertanim.js\"\r\n\r\ndocument.addEventListener('DOMContentLoaded', (e) => {\r\n\tfunctions.isWebp();\r\n\tfunctions.burger();\r\n\tfunctions.ibg();\r\n\tfunctions.ripple();\r\n\tfunctions.filter();\r\n\tymaps.ready(functions.map);\r\n})\r\n\r\nwindow.addEventListener('load', () => {\r\n\tstartInit();\r\n});\r\n"],"names":["map","myMap","ymaps","Map","center","zoom","placeMark","Placemark","iconLayout","iconImageHref","iconImageSize","iconImageOffset","placeMark1","placeMark2","placeMark3","placeMark4","controls","remove","geoObjects","add","startInit","sections","document","querySelectorAll","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","digitCounters","target","counterItems","digitCounter","startTimeStamp","duration","parseInt","dataset","counter","checkValue","value","objValueDot","objValueCom","includes","zero","split","first","second","innerHTML","Object","keys","length","constructor","step","time","progress","Math","min","floor","window","requestAnimationFrame","digitCounterAnimate","counterInit","unobserve","threshold","section","observe","addEventListener","e","callback","webP","Image","onload","onerror","support","className","documentElement","classList","height","src","testWebP","burgerButton","querySelector","burgerMenu","toggle","body","imgbackround","imgbg","style","backgroundImage","getAttribute","closest","button","ripple","createElement","diametr","max","clientWidth","clientHeight","radius","width","left","pageX","getBoundingClientRect","scrollX","top","pageY","scrollY","append","timeOut","getAnimationDuration","getComputedStyle","animationDuration","replace","setTimeout","nav","blocksFilter","tagName","li","block","display","filterTarget","f","contains","ready"],"sourceRoot":""}